<div *ngIf="partSequence" [style.display]="keyboardMode ? 'block' : 'none'">
    <ng-container *ngFor="let part of partSequence">
        <ng-container [ngSwitch]="part">
            <input
                *ngSwitchCase="'day'"
                #dayInput
                (blur)="onBlur()"
                (click)="onInputClicked($event)"
                (input)="onInput(part, $event.target)"
                type="text"
                pattern="\d*" />
            <input
                *ngSwitchCase="'month'"
                #monthInput
                (blur)="onBlur()"
                (click)="onInputClicked($event)"
                (input)="onInput(part, $event.target)"
                type="text"
                pattern="\d*" />
            <input
                *ngSwitchCase="'year'"
                #yearInput
                (blur)="onBlur()"
                (click)="onInputClicked($event)"
                (input)="onInput(part, $event.target)"
                type="text"
                pattern="\d*"  />
            <span *ngSwitchDefault>{{part}}</span>
        </ng-container>
    </ng-container>
</div>

<ion-datetime
    [style.display]="keyboardMode ? 'none' : 'block'"
    [displayFormat]="dateFormat"
    [max]="maxExpirationDate"
    [pickerFormat]="pickerFormat"
    [monthShortNames]="monthsShort"
    [monthNames]="monthsLong"
    [dayShortNames]="daysShort"
    [dayNames]="daysLong"
    [cancelText]="cancelText"
    [doneText]="doneText"
    [formControl]="ionPickerControl"
    required></ion-datetime>
<button (click)="switch($event)">Switch</button>